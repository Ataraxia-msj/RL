# ç¯å¢ƒæ­å»º

èµ°è¿·å®«ï¼Œç¯å¢ƒæ˜¯å®Œå…¨å·²çŸ¥çš„ã€‚

![[Pasted image 20241108155254.png]]


## 1. è·å¾—æ ¼å­çŠ¶æ€

	def get_state(row,col):
		if row != 3:
			return 'ground'
		if row == 3 and col == 0:
			return 'ground'
		if row == 3 and col == 11:
			return 'terminal'
		return 'trap'

## 2. åŠ¨ä½œå‡½æ•°

	def move(row,col,action):
	# å¦‚æœå·²ç»åœ¨æ‚¬å´–ï¼Œæˆ–è€…é‡ç‚¹ï¼Œåé¦ˆå°±æ˜¯0
	if get_state(row,col) in ['trap','terminal']:
		return row,col,0
	# ğŸ‘†
	if action == 0:
		row -= 1
	# ğŸ‘‡
	if action == 1:
		row += 1
	# ğŸ‘ˆ
	if action == 2:
		col -= 1
	# ğŸ‘‰
	if action == 3:
		col += 1
	#é¿å…èµ°åˆ°åœ°å›¾å¤–é¢
	row = max(0,row)
	row = min(3,row)
	col = max(0,col)
	col = min(11,col)
	#å¦‚æœæ˜¯æ‚¬å´–ï¼Œå¥–åŠ±å°±æ˜¯-100ï¼Œå¦åˆ™éƒ½æ˜¯-1
	reward = -1
	if get_state(row,col) == 'trap':
		reward = -100
	return row,col,reward

## 3. ä»·å€¼ä¸ç­–ç•¥

	import numpy as np
	#åˆå§‹åŒ–Valueå’Œpi
	values = np.zeros([4,12])
	pi = np.ones([4,12,4])*0.25

Qå‡½æ•°ï¼šåœ¨ä¸€ä¸ªçŠ¶æ€ä¸‹æ‰§è¡ŒåŠ¨ä½œçš„åˆ†æ•°ã€‚

	def get_qsa(row,col,action):
		next_row , next_col,reward = move(row,col,action)
		value = values[next_row,next_col] * 0.9
		if